type: object
description: >
  A generic revision model captures the serialized contents of any schema's single row. 
  This is then subject to 1) cryptographic signature and 2) auditing. Aside from successor column, 
  a revision should be considered locked.
required:
  - id
  - schema_name
  - object_id
  - serialized_snapshot
  - timestamp
properties:
  id:
    type: string
    description: "Revision identifier"
  object_id:
    type: string
    description: "Consent identifier"
  serialized_snapshot:
    type: string
    description: "Snapshot of the revision"
  timestamp:
    type: string
    description: "UTC timestamp of when the revision was created"
  authorized_by_individual:
    $ref: "../onboarding/Individual.yaml"
    description: "Reference to the individual that consented"
  authorized_by_other:
    $ref: "../onboarding/Individual.yaml"
    description: "Reference to an admin user that has created this revision"
  successor:
    $ref: "../service/DataAgreementRecordRevision.yaml"
  predecessor_hash:
    type: string
    description: "Tamper-resistent artifact from previous record"
  predecessor_signature:
    $ref: "../config/Signature.yaml"
    description: "Tamper-resistent artifact from previous record (we don't know if the previous record was signed or not)"
